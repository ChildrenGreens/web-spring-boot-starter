= web-spring-boot-starter
ChildrenGreens <childrengreens@163.com>
:toc: macro
:toclevels: 2
:icons: font

The `web-spring-boot-starter` project delivers an opinionated web layer for Spring Boot 3.5.x applications. It groups reusable
context components, auto-configuration, and a consumable starter so teams can enable unified API behaviour with one dependency.

toc::[]

== Modules

- *web-spring-boot-context* — shared building blocks such as the `ApiResponse` model (now carrying `traceId`), global exception
  handling, trace propagation helpers, and request logging filters.
- *web-spring-boot-autoconfigure* — conditional beans, configuration properties, and metadata that wire the context components
  into a servlet web application.
- *web-spring-boot-starter* — starter POM that exposes the auto-configuration alongside Spring Web dependencies for consumers.

== Features

- Consistent JSON envelope through `ApiResponse<T>` exposing `code`, `message`, `data`, and the active `traceId`.
- `GlobalExceptionHandler` returning structured errors for validation, business, and generic failures.
- Optional response wrapping via `ResponseBodyAdvice`, toggled with `web.starter.response.enabled`.
- Trace propagation filter that reads or generates `X-Trace-Id`, stores it in MDC, and surfaces it in every response body.
- Request logging filter with configurable header dumps and payload truncation.
- Sensible Jackson defaults (ISO-8601 dates, optional long-to-string serialisation) and configurable CORS policy.

== Quick Start

Add the starter to your Spring Boot application:

[source,xml]
----
<dependency>
  <groupId>com.childrengreens</groupId>
  <artifactId>web-spring-boot-starter</artifactId>
  <version>1.0-SNAPSHOT</version>
</dependency>
----

== Configuration Hints

The starter provides rich metadata so IDEs offer auto-completion for all `web.starter.*` properties. Common tweaks:

[source,properties]
----
web.starter.trace.enabled=true
web.starter.trace.header-name=X-Trace-Id
web.starter.response.enabled=true
web.starter.response.wrap-on-null-body=false
web.starter.logging.include-headers=true
web.starter.logging.max-payload-size=16KB
web.starter.jackson.write-long-as-string=true
web.starter.cors.allowed-origins=https://example.com
----

== Requirements

- JDK 21+
- Maven 3.9+
- Spring Boot 3.5.x

== Build & Test

[source,shell]
----
# Format license headers, compile all modules, and run tests
mvn clean install

# Focus on auto-configuration tests only
mvn -pl web-spring-boot-autoconfigure test
----

== Project Links

- Home: https://github.com/ChildrenGreens/web-spring-boot-starter
- Issues: https://github.com/ChildrenGreens/web-spring-boot-starter/issues

== License

Apache License 2.0. See `LICENSE.txt` in the project root.
